<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>ğŸ”¬ Science Lab Adventure!</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- ============ SPLASH / HOME SCREEN ============ -->
    <div id="screen-home" class="screen active">
        <div class="home-bg-bubbles">
            <span></span><span></span><span></span><span></span><span></span>
            <span></span><span></span><span></span><span></span><span></span>
        </div>
        <div class="home-content">
            <h1 class="game-title bounce-in">ğŸ”¬ Science Lab<br>Adventure!</h1>
            <p class="subtitle fade-in">Choose your experiment!</p>
            <div class="game-grid">
                <button class="game-card card-chemistry" data-game="chemistry" onclick="ScienceApp.selectGame('chemistry')">
                    <span class="card-emoji">ğŸ§ª</span>
                    <span class="card-label">Chemistry Lab</span>
                    <span class="card-desc">Mix potions!</span>
                </button>
                <button class="game-card card-physics" data-game="physics" onclick="ScienceApp.selectGame('physics')">
                    <span class="card-emoji">âš¡</span>
                    <span class="card-label">Physics Lab</span>
                    <span class="card-desc">Build machines!</span>
                </button>
                <button class="game-card card-nature" data-game="nature" onclick="ScienceApp.selectGame('nature')">
                    <span class="card-emoji">ğŸŒ¿</span>
                    <span class="card-label">Nature Lab</span>
                    <span class="card-desc">Grow things!</span>
                </button>
                <button class="game-card card-dessert" data-game="dessert" onclick="ScienceApp.selectGame('dessert')">
                    <span class="card-emoji">ğŸ°</span>
                    <span class="card-label">Dessert Kitchen</span>
                    <span class="card-desc">Bake treats!</span>
                </button>
                <button class="game-card card-maze" data-game="maze" onclick="ScienceApp.selectGame('maze')">
                    <span class="card-emoji">ğŸ†</span>
                    <span class="card-label">Maze Game</span>
                    <span class="card-desc">Bonus fun!</span>
                </button>
                <button class="game-card card-tictactoe" data-game="tictactoe" onclick="ScienceApp.selectGame('tictactoe')">
                    <span class="card-emoji">â­•</span>
                    <span class="card-label">Tic-Tac-Toe</span>
                    <span class="card-desc">Bonus game!</span>
                </button>
            </div>
        </div>
    </div>

    <!-- ============ INGREDIENT SELECTION SCREEN ============ -->
    <div id="screen-ingredients" class="screen">
        <div class="screen-header">
            <button class="btn-back" onclick="ScienceApp.goHome()">â¬…ï¸ Back</button>
            <h2 id="lab-title" class="lab-title">ğŸ§ª Chemistry Lab</h2>
        </div>
        <p class="instruction-text" id="ingredient-instruction">Pick 2-3 ingredients to mix!</p>
        <div class="ingredients-container" id="ingredients-container">
            <!-- Filled dynamically -->
        </div>
        <div class="selected-tray">
            <h3>Your Picks:</h3>
            <div id="selected-items" class="selected-items">
                <!-- Filled dynamically -->
            </div>
        </div>
        <button class="btn-create" id="btn-create" onclick="ScienceApp.createItem()" disabled>
            ğŸª„ Create!
        </button>
    </div>

    <!-- ============ CREATION / MIXING ANIMATION SCREEN ============ -->
    <div id="screen-creating" class="screen">
        <div class="creating-container">
            <div class="cauldron" id="cauldron">
                <div class="cauldron-body">ğŸ§«</div>
                <div class="mixing-particles" id="mixing-particles"></div>
            </div>
            <h2 class="creating-text" id="creating-text">Mixing...</h2>
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill"></div>
            </div>
        </div>
    </div>

    <!-- ============ PLAY SCREEN ============ -->
    <div id="screen-play" class="screen">
        <div class="screen-header">
            <button class="btn-back" onclick="ScienceApp.goHome()">â¬…ï¸ Home</button>
            <h2 id="creation-title" class="lab-title">Your Creation!</h2>
            <button class="btn-new" onclick="ScienceApp.goToIngredients()">ğŸ”„ New</button>
        </div>
        <div class="play-area" id="play-area">
            <div class="creation-object" id="creation-object">
                <!-- Created item rendered here -->
            </div>
        </div>
        <div class="play-controls">
            <button class="play-btn" onclick="ScienceApp.playAction('bounce')" data-action="bounce">
                <span>â¬†ï¸</span> Bounce
            </button>
            <button class="play-btn" onclick="ScienceApp.playAction('spin')" data-action="spin">
                <span>ğŸ”„</span> Spin
            </button>
            <button class="play-btn" onclick="ScienceApp.playAction('flip')" data-action="flip">
                <span>ğŸ”ƒ</span> Flip
            </button>
            <button class="play-btn" onclick="ScienceApp.playAction('shake')" data-action="shake">
                <span>ğŸ“³</span> Shake
            </button>
            <button class="play-btn" onclick="ScienceApp.playAction('grow')" data-action="grow">
                <span>ğŸ”</span> Grow
            </button>
            <button class="play-btn" onclick="ScienceApp.playAction('color')" data-action="color">
                <span>ğŸ¨</span> Color
            </button>
        </div>
    </div>

    <!-- ============ MAZE GAME SCREEN ============ -->
    <div id="screen-maze" class="screen">
        <div class="screen-header">
            <button class="btn-back" onclick="ScienceApp.goHome()">â¬…ï¸ Home</button>
            <h2 class="lab-title">ğŸ† Maze Adventure!</h2>
            <button class="btn-new" onclick="MazeGame.generateNew()">ğŸ”„ New Maze</button>
        </div>
        <div class="maze-info">
            <span id="maze-timer" class="maze-stat">â±ï¸ 0s</span>
            <span id="maze-moves" class="maze-stat">ğŸ‘£ 0 moves</span>
            <div class="maze-difficulty">
                <button class="diff-btn active" onclick="MazeGame.setDifficulty('easy')" data-diff="easy">ğŸ˜Š Easy</button>
                <button class="diff-btn" onclick="MazeGame.setDifficulty('medium')" data-diff="medium">ğŸ¤” Medium</button>
                <button class="diff-btn" onclick="MazeGame.setDifficulty('hard')" data-diff="hard">ğŸ˜ˆ Hard</button>
            </div>
        </div>
        <div class="maze-wrapper">
            <canvas id="maze-canvas"></canvas>
        </div>
        <div class="maze-controls">
            <div class="dpad">
                <button class="dpad-btn dpad-up" ontouchstart="MazeGame.move('up')" onmousedown="MazeGame.move('up')">â¬†ï¸</button>
                <button class="dpad-btn dpad-left" ontouchstart="MazeGame.move('left')" onmousedown="MazeGame.move('left')">â¬…ï¸</button>
                <button class="dpad-btn dpad-right" ontouchstart="MazeGame.move('right')" onmousedown="MazeGame.move('right')">â¡ï¸</button>
                <button class="dpad-btn dpad-down" ontouchstart="MazeGame.move('down')" onmousedown="MazeGame.move('down')">â¬‡ï¸</button>
            </div>
        </div>
        <!-- Drawing overlay for maze -->
        <div class="maze-draw-toggle">
            <button class="draw-toggle-btn" id="draw-toggle" onclick="MazeGame.toggleDraw()">âœï¸ Draw Mode</button>
            <div class="draw-colors" id="draw-colors" style="display:none;">
                <button class="color-dot" style="background:#FF6B6B" onclick="MazeGame.setDrawColor('#FF6B6B')"></button>
                <button class="color-dot" style="background:#4ECDC4" onclick="MazeGame.setDrawColor('#4ECDC4')"></button>
                <button class="color-dot" style="background:#FFE66D" onclick="MazeGame.setDrawColor('#FFE66D')"></button>
                <button class="color-dot" style="background:#A78BFA" onclick="MazeGame.setDrawColor('#A78BFA')"></button>
                <button class="color-dot" style="background:#FF85A2" onclick="MazeGame.setDrawColor('#FF85A2')"></button>
                <button class="eraser-btn" onclick="MazeGame.clearDrawing()">ğŸ§¹ Clear</button>
            </div>
        </div>
    </div>

    <!-- ============ WIN / CELEBRATION SCREEN ============ -->
    <div id="screen-win" class="screen">
        <div class="win-content">
            <h1 class="win-title">ğŸ‰ You Did It! ğŸ‰</h1>
            <div class="win-stars">â­â­â­</div>
            <p class="win-message" id="win-message">Amazing work, little scientist!</p>
            <div class="confetti-container" id="confetti-container"></div>
            <button class="btn-play-again" onclick="ScienceApp.goHome()">ğŸ  Play Again!</button>
        </div>
    </div>

    <!-- ============ TIC-TAC-TOE SCREEN ============ -->
    <div id="screen-tictactoe" class="screen">
        <div class="screen-header">
            <button class="btn-back" onclick="ScienceApp.goHome()">â¬…ï¸ Home</button>
            <h2 class="lab-title">â­• Tic-Tac-Toe!</h2>
            <button class="btn-new" onclick="TicTacToe.newGame()">ğŸ”„ New</button>
        </div>
        <div class="ttt-mode-bar">
            <button class="ttt-mode-btn active" data-mode="computer" onclick="TicTacToe.setMode('computer')">
                ğŸ¤– vs Computer
            </button>
            <button class="ttt-mode-btn" data-mode="2player" onclick="TicTacToe.setMode('2player')">
                ğŸ‘« 2 Players
            </button>
        </div>
        <div class="ttt-scores" id="ttt-scores">ğŸ§‘â€ğŸ”¬ 0 - 0 - 0 ğŸ¤–</div>
        <p class="ttt-status" id="ttt-status">ğŸ§‘â€ğŸ”¬ Player 1's turn</p>
        <div class="ttt-board-wrapper">
            <div class="ttt-board" id="ttt-board">
                <!-- 9 cells rendered by JS -->
            </div>
        </div>
    </div>

    <script src="js/sounds.js"></script>
    <script src="js/experiments.js"></script>
    <script src="js/maze.js"></script>
    <script src="js/tictactoe.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
